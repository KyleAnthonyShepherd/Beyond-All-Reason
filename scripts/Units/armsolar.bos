#define TA			// This is a TA script

#include "sfxtype.h"
#include "exptype.h"

piece  base, dish1, dish2, dish3, dish4, emit;

static-var  Static_Var_1, statechg_DesiredState, statechg_StateChanging;


SmokeUnit(healthpercent, sleeptime, smoketype)
{
	while( get BUILD_PERCENT_LEFT )
	{
		sleep 500;
	}
	while( TRUE )
	{
		healthpercent = get HEALTH;
		if( healthpercent < 66 )
		{
			smoketype = SFXTYPE_BLACKSMOKE;
			if( Rand( 1, 66 ) < healthpercent )
			{
				smoketype = SFXTYPE_WHITESMOKE;
			}
			emit-sfx smoketype from base;
		}
		sleeptime = healthpercent * 50;
		if( sleeptime < 200 )
		{
			sleeptime = 200;
		}
		sleep sleeptime;
	}
}


Go()
{
	if( Static_Var_1 )
	{
		set ACTIVATION to 0;
		return (0);
	}

	turn dish1 to x-axis <-1.41> now;
	turn dish1 to y-axis <-0.02> now;
	turn dish1 to z-axis <-1.41> now;
	turn dish2 to x-axis <1.41> now;
	turn dish2 to y-axis <0.02> now;
	turn dish2 to z-axis <-1.41> now;
	turn dish3 to x-axis <1.41> now;
	turn dish3 to y-axis <-0.02> now;
	turn dish3 to z-axis <1.41> now;
	turn dish4 to x-axis <-1.41> now;
	turn dish4 to y-axis <0.02> now;
	turn dish4 to z-axis <1.41> now;
	sleep 1;
	turn dish1 to x-axis <-2.83> now;
	turn dish1 to y-axis <-0.07> now;
	turn dish1 to z-axis <-2.83> now;
	turn dish2 to x-axis <2.83> now;
	turn dish2 to y-axis <0.07> now;
	turn dish2 to z-axis <-2.83> now;
	turn dish3 to x-axis <2.83> now;
	turn dish3 to y-axis <-0.07> now;
	turn dish3 to z-axis <2.83> now;
	turn dish4 to x-axis <-2.83> now;
	turn dish4 to y-axis <0.07> now;
	turn dish4 to z-axis <2.83> now;
	sleep 1;
	turn dish1 to x-axis <-4.24> now;
	turn dish1 to y-axis <-0.16> now;
	turn dish1 to z-axis <-4.25> now;
	turn dish2 to x-axis <4.24> now;
	turn dish2 to y-axis <0.16> now;
	turn dish2 to z-axis <-4.25> now;
	turn dish3 to x-axis <4.24> now;
	turn dish3 to y-axis <-0.16> now;
	turn dish3 to z-axis <4.25> now;
	turn dish4 to x-axis <-4.24> now;
	turn dish4 to y-axis <0.16> now;
	turn dish4 to z-axis <4.25> now;
	sleep 1;
	turn dish1 to x-axis <-5.65> now;
	turn dish1 to y-axis <-0.28> now;
	turn dish1 to z-axis <-5.68> now;
	turn dish2 to x-axis <5.65> now;
	turn dish2 to y-axis <0.28> now;
	turn dish2 to z-axis <-5.68> now;
	turn dish3 to x-axis <5.65> now;
	turn dish3 to y-axis <-0.28> now;
	turn dish3 to z-axis <5.68> now;
	turn dish4 to x-axis <-5.65> now;
	turn dish4 to y-axis <0.28> now;
	turn dish4 to z-axis <5.68> now;
	sleep 1;
	turn dish1 to x-axis <-7.05> now;
	turn dish1 to y-axis <-0.44> now;
	turn dish1 to z-axis <-7.11> now;
	turn dish2 to x-axis <7.05> now;
	turn dish2 to y-axis <0.44> now;
	turn dish2 to z-axis <-7.11> now;
	turn dish3 to x-axis <7.05> now;
	turn dish3 to y-axis <-0.44> now;
	turn dish3 to z-axis <7.11> now;
	turn dish4 to x-axis <-7.05> now;
	turn dish4 to y-axis <0.44> now;
	turn dish4 to z-axis <7.11> now;
	sleep 1;
	turn dish1 to x-axis <-8.45> now;
	turn dish1 to y-axis <-0.63> now;
	turn dish1 to z-axis <-8.55> now;
	turn dish2 to x-axis <8.45> now;
	turn dish2 to y-axis <0.63> now;
	turn dish2 to z-axis <-8.55> now;
	turn dish3 to x-axis <8.45> now;
	turn dish3 to y-axis <-0.63> now;
	turn dish3 to z-axis <8.55> now;
	turn dish4 to x-axis <-8.45> now;
	turn dish4 to y-axis <0.63> now;
	turn dish4 to z-axis <8.55> now;
	sleep 1;
	turn dish1 to x-axis <-9.85> now;
	turn dish1 to y-axis <-0.86> now;
	turn dish1 to z-axis <-10.00> now;
	turn dish2 to x-axis <9.85> now;
	turn dish2 to y-axis <0.86> now;
	turn dish2 to z-axis <-10.00> now;
	turn dish3 to x-axis <9.85> now;
	turn dish3 to y-axis <-0.86> now;
	turn dish3 to z-axis <10.00> now;
	turn dish4 to x-axis <-9.85> now;
	turn dish4 to y-axis <0.86> now;
	turn dish4 to z-axis <10.00> now;
	sleep 1;
	turn dish1 to x-axis <-11.24> now;
	turn dish1 to y-axis <-1.13> now;
	turn dish1 to z-axis <-11.46> now;
	turn dish2 to x-axis <11.24> now;
	turn dish2 to y-axis <1.13> now;
	turn dish2 to z-axis <-11.46> now;
	turn dish3 to x-axis <11.24> now;
	turn dish3 to y-axis <-1.13> now;
	turn dish3 to z-axis <11.46> now;
	turn dish4 to x-axis <-11.24> now;
	turn dish4 to y-axis <1.13> now;
	turn dish4 to z-axis <11.46> now;
	sleep 1;
	turn dish1 to x-axis <-12.62> now;
	turn dish1 to y-axis <-1.44> now;
	turn dish1 to z-axis <-12.94> now;
	turn dish2 to x-axis <12.62> now;
	turn dish2 to y-axis <1.44> now;
	turn dish2 to z-axis <-12.94> now;
	turn dish3 to x-axis <12.62> now;
	turn dish3 to y-axis <-1.44> now;
	turn dish3 to z-axis <12.94> now;
	turn dish4 to x-axis <-12.62> now;
	turn dish4 to y-axis <1.44> now;
	turn dish4 to z-axis <12.94> now;
	sleep 1;
	turn dish1 to x-axis <-14.00> now;
	turn dish1 to y-axis <-1.78> now;
	turn dish1 to z-axis <-14.43> now;
	turn dish2 to x-axis <14.00> now;
	turn dish2 to y-axis <1.78> now;
	turn dish2 to z-axis <-14.43> now;
	turn dish3 to x-axis <14.00> now;
	turn dish3 to y-axis <-1.78> now;
	turn dish3 to z-axis <14.43> now;
	turn dish4 to x-axis <-14.00> now;
	turn dish4 to y-axis <1.78> now;
	turn dish4 to z-axis <14.43> now;
	sleep 1;
	turn dish1 to x-axis <-15.36> now;
	turn dish1 to y-axis <-2.16> now;
	turn dish1 to z-axis <-15.94> now;
	turn dish2 to x-axis <15.36> now;
	turn dish2 to y-axis <2.16> now;
	turn dish2 to z-axis <-15.94> now;
	turn dish3 to x-axis <15.36> now;
	turn dish3 to y-axis <-2.16> now;
	turn dish3 to z-axis <15.94> now;
	turn dish4 to x-axis <-15.36> now;
	turn dish4 to y-axis <2.16> now;
	turn dish4 to z-axis <15.94> now;
	sleep 1;
	turn dish1 to x-axis <-16.71> now;
	turn dish1 to y-axis <-2.59> now;
	turn dish1 to z-axis <-17.48> now;
	turn dish2 to x-axis <16.71> now;
	turn dish2 to y-axis <2.59> now;
	turn dish2 to z-axis <-17.48> now;
	turn dish3 to x-axis <16.71> now;
	turn dish3 to y-axis <-2.59> now;
	turn dish3 to z-axis <17.48> now;
	turn dish4 to x-axis <-16.71> now;
	turn dish4 to y-axis <2.59> now;
	turn dish4 to z-axis <17.48> now;
	sleep 1;
	turn dish1 to x-axis <-18.06> now;
	turn dish1 to y-axis <-3.05> now;
	turn dish1 to z-axis <-19.03> now;
	turn dish2 to x-axis <18.06> now;
	turn dish2 to y-axis <3.05> now;
	turn dish2 to z-axis <-19.03> now;
	turn dish3 to x-axis <18.06> now;
	turn dish3 to y-axis <-3.05> now;
	turn dish3 to z-axis <19.03> now;
	turn dish4 to x-axis <-18.06> now;
	turn dish4 to y-axis <3.05> now;
	turn dish4 to z-axis <19.03> now;
	sleep 1;
	turn dish1 to x-axis <-19.39> now;
	turn dish1 to y-axis <-3.56> now;
	turn dish1 to z-axis <-20.61> now;
	turn dish2 to x-axis <19.39> now;
	turn dish2 to y-axis <3.56> now;
	turn dish2 to z-axis <-20.61> now;
	turn dish3 to x-axis <19.39> now;
	turn dish3 to y-axis <-3.56> now;
	turn dish3 to z-axis <20.61> now;
	turn dish4 to x-axis <-19.39> now;
	turn dish4 to y-axis <3.56> now;
	turn dish4 to z-axis <20.61> now;
	sleep 1;
	turn dish1 to x-axis <-20.70> now;
	turn dish1 to y-axis <-4.11> now;
	turn dish1 to z-axis <-22.21> now;
	turn dish2 to x-axis <20.70> now;
	turn dish2 to y-axis <4.11> now;
	turn dish2 to z-axis <-22.21> now;
	turn dish3 to x-axis <20.70> now;
	turn dish3 to y-axis <-4.11> now;
	turn dish3 to z-axis <22.21> now;
	turn dish4 to x-axis <-20.70> now;
	turn dish4 to y-axis <4.11> now;
	turn dish4 to z-axis <22.21> now;
	sleep 1;
	turn dish1 to x-axis <-22.01> now;
	turn dish1 to y-axis <-4.70> now;
	turn dish1 to z-axis <-23.84> now;
	turn dish2 to x-axis <22.01> now;
	turn dish2 to y-axis <4.70> now;
	turn dish2 to z-axis <-23.84> now;
	turn dish3 to x-axis <22.01> now;
	turn dish3 to y-axis <-4.70> now;
	turn dish3 to z-axis <23.84> now;
	turn dish4 to x-axis <-22.01> now;
	turn dish4 to y-axis <4.70> now;
	turn dish4 to z-axis <23.84> now;
	sleep 1;
	turn dish1 to x-axis <-23.29> now;
	turn dish1 to y-axis <-5.34> now;
	turn dish1 to z-axis <-25.50> now;
	turn dish2 to x-axis <23.29> now;
	turn dish2 to y-axis <5.34> now;
	turn dish2 to z-axis <-25.50> now;
	turn dish3 to x-axis <23.29> now;
	turn dish3 to y-axis <-5.34> now;
	turn dish3 to z-axis <25.50> now;
	turn dish4 to x-axis <-23.29> now;
	turn dish4 to y-axis <5.34> now;
	turn dish4 to z-axis <25.50> now;
	sleep 1;
	turn dish1 to x-axis <-24.56> now;
	turn dish1 to y-axis <-6.03> now;
	turn dish1 to z-axis <-27.19> now;
	turn dish2 to x-axis <24.56> now;
	turn dish2 to y-axis <6.03> now;
	turn dish2 to z-axis <-27.19> now;
	turn dish3 to x-axis <24.56> now;
	turn dish3 to y-axis <-6.03> now;
	turn dish3 to z-axis <27.19> now;
	turn dish4 to x-axis <-24.56> now;
	turn dish4 to y-axis <6.03> now;
	turn dish4 to z-axis <27.19> now;
	sleep 1;
	turn dish1 to x-axis <-25.81> now;
	turn dish1 to y-axis <-6.76> now;
	turn dish1 to z-axis <-28.92> now;
	turn dish2 to x-axis <25.81> now;
	turn dish2 to y-axis <6.76> now;
	turn dish2 to z-axis <-28.92> now;
	turn dish3 to x-axis <25.81> now;
	turn dish3 to y-axis <-6.76> now;
	turn dish3 to z-axis <28.92> now;
	turn dish4 to x-axis <-25.81> now;
	turn dish4 to y-axis <6.76> now;
	turn dish4 to z-axis <28.92> now;
	sleep 1;
	turn dish1 to x-axis <-27.03> now;
	turn dish1 to y-axis <-7.55> now;
	turn dish1 to z-axis <-30.68> now;
	turn dish2 to x-axis <27.03> now;
	turn dish2 to y-axis <7.55> now;
	turn dish2 to z-axis <-30.68> now;
	turn dish3 to x-axis <27.03> now;
	turn dish3 to y-axis <-7.55> now;
	turn dish3 to z-axis <30.68> now;
	turn dish4 to x-axis <-27.03> now;
	turn dish4 to y-axis <7.55> now;
	turn dish4 to z-axis <30.68> now;
	sleep 1;
	turn dish1 to x-axis <-28.24> now;
	turn dish1 to y-axis <-8.38> now;
	turn dish1 to z-axis <-32.48> now;
	turn dish2 to x-axis <28.24> now;
	turn dish2 to y-axis <8.38> now;
	turn dish2 to z-axis <-32.48> now;
	turn dish3 to x-axis <28.24> now;
	turn dish3 to y-axis <-8.38> now;
	turn dish3 to z-axis <32.48> now;
	turn dish4 to x-axis <-28.24> now;
	turn dish4 to y-axis <8.38> now;
	turn dish4 to z-axis <32.48> now;
	sleep 1;
	turn dish1 to x-axis <-29.42> now;
	turn dish1 to y-axis <-9.27> now;
	turn dish1 to z-axis <-34.33> now;
	turn dish2 to x-axis <29.42> now;
	turn dish2 to y-axis <9.27> now;
	turn dish2 to z-axis <-34.33> now;
	turn dish3 to x-axis <29.42> now;
	turn dish3 to y-axis <-9.27> now;
	turn dish3 to z-axis <34.33> now;
	turn dish4 to x-axis <-29.42> now;
	turn dish4 to y-axis <9.27> now;
	turn dish4 to z-axis <34.33> now;
	sleep 1;
	turn dish1 to x-axis <-30.57> now;
	turn dish1 to y-axis <-10.21> now;
	turn dish1 to z-axis <-36.21> now;
	turn dish2 to x-axis <30.57> now;
	turn dish2 to y-axis <10.21> now;
	turn dish2 to z-axis <-36.21> now;
	turn dish3 to x-axis <30.57> now;
	turn dish3 to y-axis <-10.21> now;
	turn dish3 to z-axis <36.21> now;
	turn dish4 to x-axis <-30.57> now;
	turn dish4 to y-axis <10.21> now;
	turn dish4 to z-axis <36.21> now;
	sleep 1;
	turn dish1 to x-axis <-31.70> now;
	turn dish1 to y-axis <-11.21> now;
	turn dish1 to z-axis <-38.14> now;
	turn dish2 to x-axis <31.70> now;
	turn dish2 to y-axis <11.21> now;
	turn dish2 to z-axis <-38.14> now;
	turn dish3 to x-axis <31.70> now;
	turn dish3 to y-axis <-11.21> now;
	turn dish3 to z-axis <38.14> now;
	turn dish4 to x-axis <-31.70> now;
	turn dish4 to y-axis <11.21> now;
	turn dish4 to z-axis <38.14> now;
	sleep 1;
	turn dish1 to x-axis <-32.80> now;
	turn dish1 to y-axis <-12.27> now;
	turn dish1 to z-axis <-40.12> now;
	turn dish2 to x-axis <32.80> now;
	turn dish2 to y-axis <12.27> now;
	turn dish2 to z-axis <-40.12> now;
	turn dish3 to x-axis <32.80> now;
	turn dish3 to y-axis <-12.27> now;
	turn dish3 to z-axis <40.12> now;
	turn dish4 to x-axis <-32.80> now;
	turn dish4 to y-axis <12.27> now;
	turn dish4 to z-axis <40.12> now;
	sleep 1;
	turn dish1 to x-axis <-33.86> now;
	turn dish1 to y-axis <-13.38> now;
	turn dish1 to z-axis <-42.15> now;
	turn dish2 to x-axis <33.86> now;
	turn dish2 to y-axis <13.38> now;
	turn dish2 to z-axis <-42.15> now;
	turn dish3 to x-axis <33.86> now;
	turn dish3 to y-axis <-13.38> now;
	turn dish3 to z-axis <42.15> now;
	turn dish4 to x-axis <-33.86> now;
	turn dish4 to y-axis <13.38> now;
	turn dish4 to z-axis <42.15> now;
	sleep 1;
	turn dish1 to x-axis <-34.89> now;
	turn dish1 to y-axis <-14.55> now;
	turn dish1 to z-axis <-44.22> now;
	turn dish2 to x-axis <34.89> now;
	turn dish2 to y-axis <14.55> now;
	turn dish2 to z-axis <-44.22> now;
	turn dish3 to x-axis <34.89> now;
	turn dish3 to y-axis <-14.55> now;
	turn dish3 to z-axis <44.22> now;
	turn dish4 to x-axis <-34.89> now;
	turn dish4 to y-axis <14.55> now;
	turn dish4 to z-axis <44.22> now;
	sleep 1;
	turn dish1 to x-axis <-35.89> now;
	turn dish1 to y-axis <-15.79> now;
	turn dish1 to z-axis <-46.35> now;
	turn dish2 to x-axis <35.89> now;
	turn dish2 to y-axis <15.79> now;
	turn dish2 to z-axis <-46.35> now;
	turn dish3 to x-axis <35.89> now;
	turn dish3 to y-axis <-15.79> now;
	turn dish3 to z-axis <46.35> now;
	turn dish4 to x-axis <-35.89> now;
	turn dish4 to y-axis <15.79> now;
	turn dish4 to z-axis <46.35> now;
	sleep 1;
	turn dish1 to x-axis <-36.85> now;
	turn dish1 to y-axis <-17.08> now;
	turn dish1 to z-axis <-48.53> now;
	turn dish2 to x-axis <36.85> now;
	turn dish2 to y-axis <17.08> now;
	turn dish2 to z-axis <-48.53> now;
	turn dish3 to x-axis <36.85> now;
	turn dish3 to y-axis <-17.08> now;
	turn dish3 to z-axis <48.53> now;
	turn dish4 to x-axis <-36.85> now;
	turn dish4 to y-axis <17.08> now;
	turn dish4 to z-axis <48.53> now;
	sleep 1;
	turn dish1 to x-axis <-37.76> now;
	turn dish1 to y-axis <-18.43> now;
	turn dish1 to z-axis <-50.77> now;
	turn dish2 to x-axis <37.76> now;
	turn dish2 to y-axis <18.43> now;
	turn dish2 to z-axis <-50.77> now;
	turn dish3 to x-axis <37.76> now;
	turn dish3 to y-axis <-18.43> now;
	turn dish3 to z-axis <50.77> now;
	turn dish4 to x-axis <-37.76> now;
	turn dish4 to y-axis <18.43> now;
	turn dish4 to z-axis <50.77> now;
	sleep 1;
	turn dish1 to x-axis <-38.63> now;
	turn dish1 to y-axis <-19.85> now;
	turn dish1 to z-axis <-53.06> now;
	turn dish2 to x-axis <38.63> now;
	turn dish2 to y-axis <19.85> now;
	turn dish2 to z-axis <-53.06> now;
	turn dish3 to x-axis <38.63> now;
	turn dish3 to y-axis <-19.85> now;
	turn dish3 to z-axis <53.06> now;
	turn dish4 to x-axis <-38.63> now;
	turn dish4 to y-axis <19.85> now;
	turn dish4 to z-axis <53.06> now;
	sleep 1;
	turn dish1 to x-axis <-39.46> now;
	turn dish1 to y-axis <-21.33> now;
	turn dish1 to z-axis <-55.40> now;
	turn dish2 to x-axis <39.46> now;
	turn dish2 to y-axis <21.33> now;
	turn dish2 to z-axis <-55.40> now;
	turn dish3 to x-axis <39.46> now;
	turn dish3 to y-axis <-21.33> now;
	turn dish3 to z-axis <55.40> now;
	turn dish4 to x-axis <-39.46> now;
	turn dish4 to y-axis <21.33> now;
	turn dish4 to z-axis <55.40> now;
	sleep 1;
	turn dish1 to x-axis <-40.24> now;
	turn dish1 to y-axis <-22.87> now;
	turn dish1 to z-axis <-57.80> now;
	turn dish2 to x-axis <40.24> now;
	turn dish2 to y-axis <22.87> now;
	turn dish2 to z-axis <-57.80> now;
	turn dish3 to x-axis <40.24> now;
	turn dish3 to y-axis <-22.87> now;
	turn dish3 to z-axis <57.80> now;
	turn dish4 to x-axis <-40.24> now;
	turn dish4 to y-axis <22.87> now;
	turn dish4 to z-axis <57.80> now;
	sleep 1;
	turn dish1 to x-axis <-40.97> now;
	turn dish1 to y-axis <-24.46> now;
	turn dish1 to z-axis <-60.26> now;
	turn dish2 to x-axis <40.97> now;
	turn dish2 to y-axis <24.46> now;
	turn dish2 to z-axis <-60.26> now;
	turn dish3 to x-axis <40.97> now;
	turn dish3 to y-axis <-24.46> now;
	turn dish3 to z-axis <60.26> now;
	turn dish4 to x-axis <-40.97> now;
	turn dish4 to y-axis <24.46> now;
	turn dish4 to z-axis <60.26> now;
	sleep 1;
	turn dish1 to x-axis <-41.64> now;
	turn dish1 to y-axis <-26.12> now;
	turn dish1 to z-axis <-62.76> now;
	turn dish2 to x-axis <41.64> now;
	turn dish2 to y-axis <26.12> now;
	turn dish2 to z-axis <-62.76> now;
	turn dish3 to x-axis <41.64> now;
	turn dish3 to y-axis <-26.12> now;
	turn dish3 to z-axis <62.76> now;
	turn dish4 to x-axis <-41.64> now;
	turn dish4 to y-axis <26.12> now;
	turn dish4 to z-axis <62.76> now;
	sleep 1;
	turn dish1 to x-axis <-42.26> now;
	turn dish1 to y-axis <-27.83> now;
	turn dish1 to z-axis <-65.32> now;
	turn dish2 to x-axis <42.26> now;
	turn dish2 to y-axis <27.83> now;
	turn dish2 to z-axis <-65.32> now;
	turn dish3 to x-axis <42.26> now;
	turn dish3 to y-axis <-27.83> now;
	turn dish3 to z-axis <65.32> now;
	turn dish4 to x-axis <-42.26> now;
	turn dish4 to y-axis <27.83> now;
	turn dish4 to z-axis <65.32> now;
	sleep 1;
	turn dish1 to x-axis <-42.82> now;
	turn dish1 to y-axis <-29.59> now;
	turn dish1 to z-axis <-67.93> now;
	turn dish2 to x-axis <42.82> now;
	turn dish2 to y-axis <29.59> now;
	turn dish2 to z-axis <-67.93> now;
	turn dish3 to x-axis <42.82> now;
	turn dish3 to y-axis <-29.59> now;
	turn dish3 to z-axis <67.93> now;
	turn dish4 to x-axis <-42.82> now;
	turn dish4 to y-axis <29.59> now;
	turn dish4 to z-axis <67.93> now;
	sleep 1;
	turn dish1 to x-axis <-43.32> now;
	turn dish1 to y-axis <-31.40> now;
	turn dish1 to z-axis <-70.58> now;
	turn dish2 to x-axis <43.32> now;
	turn dish2 to y-axis <31.40> now;
	turn dish2 to z-axis <-70.58> now;
	turn dish3 to x-axis <43.32> now;
	turn dish3 to y-axis <-31.40> now;
	turn dish3 to z-axis <70.58> now;
	turn dish4 to x-axis <-43.32> now;
	turn dish4 to y-axis <31.40> now;
	turn dish4 to z-axis <70.58> now;
	sleep 1;
	turn dish1 to x-axis <-43.76> now;
	turn dish1 to y-axis <-33.25> now;
	turn dish1 to z-axis <-73.27> now;
	turn dish2 to x-axis <43.76> now;
	turn dish2 to y-axis <33.25> now;
	turn dish2 to z-axis <-73.27> now;
	turn dish3 to x-axis <43.76> now;
	turn dish3 to y-axis <-33.25> now;
	turn dish3 to z-axis <73.27> now;
	turn dish4 to x-axis <-43.76> now;
	turn dish4 to y-axis <33.25> now;
	turn dish4 to z-axis <73.27> now;
	sleep 1;
	turn dish1 to x-axis <-44.14> now;
	turn dish1 to y-axis <-35.15> now;
	turn dish1 to z-axis <-76.00> now;
	turn dish2 to x-axis <44.14> now;
	turn dish2 to y-axis <35.15> now;
	turn dish2 to z-axis <-76.00> now;
	turn dish3 to x-axis <44.14> now;
	turn dish3 to y-axis <-35.15> now;
	turn dish3 to z-axis <76.00> now;
	turn dish4 to x-axis <-44.14> now;
	turn dish4 to y-axis <35.15> now;
	turn dish4 to z-axis <76.00> now;
	sleep 1;
	turn dish1 to x-axis <-44.45> now;
	turn dish1 to y-axis <-37.08> now;
	turn dish1 to z-axis <-78.76> now;
	turn dish2 to x-axis <44.45> now;
	turn dish2 to y-axis <37.08> now;
	turn dish2 to z-axis <-78.76> now;
	turn dish3 to x-axis <44.45> now;
	turn dish3 to y-axis <-37.08> now;
	turn dish3 to z-axis <78.76> now;
	turn dish4 to x-axis <-44.45> now;
	turn dish4 to y-axis <37.08> now;
	turn dish4 to z-axis <78.76> now;
	sleep 1;
	turn dish1 to x-axis <-44.69> now;
	turn dish1 to y-axis <-39.03> now;
	turn dish1 to z-axis <-81.55> now;
	turn dish2 to x-axis <44.69> now;
	turn dish2 to y-axis <39.03> now;
	turn dish2 to z-axis <-81.55> now;
	turn dish3 to x-axis <44.69> now;
	turn dish3 to y-axis <-39.03> now;
	turn dish3 to z-axis <81.55> now;
	turn dish4 to x-axis <-44.69> now;
	turn dish4 to y-axis <39.03> now;
	turn dish4 to z-axis <81.55> now;
	sleep 1;
	turn dish1 to x-axis <-44.86> now;
	turn dish1 to y-axis <-41.01> now;
	turn dish1 to z-axis <-84.35> now;
	turn dish2 to x-axis <44.86> now;
	turn dish2 to y-axis <41.01> now;
	turn dish2 to z-axis <-84.35> now;
	turn dish3 to x-axis <44.86> now;
	turn dish3 to y-axis <-41.01> now;
	turn dish3 to z-axis <84.35> now;
	turn dish4 to x-axis <-44.86> now;
	turn dish4 to y-axis <41.01> now;
	turn dish4 to z-axis <84.35> now;
	sleep 1;
	turn dish1 to x-axis <-44.97> now;
	turn dish1 to y-axis <-43.00> now;
	turn dish1 to z-axis <-87.17> now;
	turn dish2 to x-axis <44.97> now;
	turn dish2 to y-axis <43.00> now;
	turn dish2 to z-axis <-87.17> now;
	turn dish3 to x-axis <44.97> now;
	turn dish3 to y-axis <-43.00> now;
	turn dish3 to z-axis <87.17> now;
	turn dish4 to x-axis <-44.97> now;
	turn dish4 to y-axis <43.00> now;
	turn dish4 to z-axis <87.17> now;
	sleep 1;
	turn dish1 to x-axis <-45.00> now;
	turn dish1 to y-axis <-45.00> now;
	turn dish1 to z-axis <-90.00> now;
	turn dish2 to x-axis <45.00> now;
	turn dish2 to y-axis <45.00> now;
	turn dish2 to z-axis <-90.00> now;
	turn dish3 to x-axis <45.00> now;
	turn dish3 to y-axis <-45.00> now;
	turn dish3 to z-axis <90.00> now;
	turn dish4 to x-axis <-45.00> now;
	turn dish4 to y-axis <45.00> now;
	turn dish4 to z-axis <90.00> now;
	sleep 1;
	show emit;
	set ARMORED to 0;
	set YARD_OPEN to 0;
}

Stop()
{
	turn dish1 to x-axis <-44.87> now;
	turn dish1 to y-axis <-41.10> now;
	turn dish1 to z-axis <-84.47> now;
	turn dish2 to x-axis <44.87> now;
	turn dish2 to y-axis <41.10> now;
	turn dish2 to z-axis <-84.47> now;
	turn dish3 to x-axis <44.87> now;
	turn dish3 to y-axis <-41.10> now;
	turn dish3 to z-axis <84.47> now;
	turn dish4 to x-axis <-44.87> now;
	turn dish4 to y-axis <41.10> now;
	turn dish4 to z-axis <84.47> now;
	sleep 1;
	turn dish1 to x-axis <-44.47> now;
	turn dish1 to y-axis <-37.25> now;
	turn dish1 to z-axis <-79.00> now;
	turn dish2 to x-axis <44.47> now;
	turn dish2 to y-axis <37.25> now;
	turn dish2 to z-axis <-79.00> now;
	turn dish3 to x-axis <44.47> now;
	turn dish3 to y-axis <-37.25> now;
	turn dish3 to z-axis <79.00> now;
	turn dish4 to x-axis <-44.47> now;
	turn dish4 to y-axis <37.25> now;
	turn dish4 to z-axis <79.00> now;
	sleep 1;
	turn dish1 to x-axis <-43.81> now;
	turn dish1 to y-axis <-33.50> now;
	turn dish1 to z-axis <-73.62> now;
	turn dish2 to x-axis <43.81> now;
	turn dish2 to y-axis <33.50> now;
	turn dish2 to z-axis <-73.62> now;
	turn dish3 to x-axis <43.81> now;
	turn dish3 to y-axis <-33.50> now;
	turn dish3 to z-axis <73.62> now;
	turn dish4 to x-axis <-43.81> now;
	turn dish4 to y-axis <33.50> now;
	turn dish4 to z-axis <73.62> now;
	sleep 1;
	turn dish1 to x-axis <-42.91> now;
	turn dish1 to y-axis <-29.90> now;
	turn dish1 to z-axis <-68.38> now;
	turn dish2 to x-axis <42.91> now;
	turn dish2 to y-axis <29.90> now;
	turn dish2 to z-axis <-68.38> now;
	turn dish3 to x-axis <42.91> now;
	turn dish3 to y-axis <-29.90> now;
	turn dish3 to z-axis <68.38> now;
	turn dish4 to x-axis <-42.91> now;
	turn dish4 to y-axis <29.90> now;
	turn dish4 to z-axis <68.38> now;
	sleep 1;
	turn dish1 to x-axis <-41.78> now;
	turn dish1 to y-axis <-26.49> now;
	turn dish1 to z-axis <-63.32> now;
	turn dish2 to x-axis <41.78> now;
	turn dish2 to y-axis <26.49> now;
	turn dish2 to z-axis <-63.32> now;
	turn dish3 to x-axis <41.78> now;
	turn dish3 to y-axis <-26.49> now;
	turn dish3 to z-axis <63.32> now;
	turn dish4 to x-axis <-41.78> now;
	turn dish4 to y-axis <26.49> now;
	turn dish4 to z-axis <63.32> now;
	sleep 1;
	turn dish1 to x-axis <-40.43> now;
	turn dish1 to y-axis <-23.28> now;
	turn dish1 to z-axis <-58.44> now;
	turn dish2 to x-axis <40.43> now;
	turn dish2 to y-axis <23.28> now;
	turn dish2 to z-axis <-58.44> now;
	turn dish3 to x-axis <40.43> now;
	turn dish3 to y-axis <-23.28> now;
	turn dish3 to z-axis <58.44> now;
	turn dish4 to x-axis <-40.43> now;
	turn dish4 to y-axis <23.28> now;
	turn dish4 to z-axis <58.44> now;
	sleep 1;
	turn dish1 to x-axis <-38.89> now;
	turn dish1 to y-axis <-20.29> now;
	turn dish1 to z-axis <-53.77> now;
	turn dish2 to x-axis <38.89> now;
	turn dish2 to y-axis <20.29> now;
	turn dish2 to z-axis <-53.77> now;
	turn dish3 to x-axis <38.89> now;
	turn dish3 to y-axis <-20.29> now;
	turn dish3 to z-axis <53.77> now;
	turn dish4 to x-axis <-38.89> now;
	turn dish4 to y-axis <20.29> now;
	turn dish4 to z-axis <53.77> now;
	sleep 1;
	turn dish1 to x-axis <-37.17> now;
	turn dish1 to y-axis <-17.54> now;
	turn dish1 to z-axis <-49.30> now;
	turn dish2 to x-axis <37.17> now;
	turn dish2 to y-axis <17.54> now;
	turn dish2 to z-axis <-49.30> now;
	turn dish3 to x-axis <37.17> now;
	turn dish3 to y-axis <-17.54> now;
	turn dish3 to z-axis <49.30> now;
	turn dish4 to x-axis <-37.17> now;
	turn dish4 to y-axis <17.54> now;
	turn dish4 to z-axis <49.30> now;
	sleep 1;
	turn dish1 to x-axis <-35.29> now;
	turn dish1 to y-axis <-15.03> now;
	turn dish1 to z-axis <-45.05> now;
	turn dish2 to x-axis <35.29> now;
	turn dish2 to y-axis <15.03> now;
	turn dish2 to z-axis <-45.05> now;
	turn dish3 to x-axis <35.29> now;
	turn dish3 to y-axis <-15.03> now;
	turn dish3 to z-axis <45.05> now;
	turn dish4 to x-axis <-35.29> now;
	turn dish4 to y-axis <15.03> now;
	turn dish4 to z-axis <45.05> now;
	sleep 1;
	turn dish1 to x-axis <-33.26> now;
	turn dish1 to y-axis <-12.74> now;
	turn dish1 to z-axis <-41.00> now;
	turn dish2 to x-axis <33.26> now;
	turn dish2 to y-axis <12.74> now;
	turn dish2 to z-axis <-41.00> now;
	turn dish3 to x-axis <33.26> now;
	turn dish3 to y-axis <-12.74> now;
	turn dish3 to z-axis <41.00> now;
	turn dish4 to x-axis <-33.26> now;
	turn dish4 to y-axis <12.74> now;
	turn dish4 to z-axis <41.00> now;
	sleep 1;
	turn dish1 to x-axis <-31.12> now;
	turn dish1 to y-axis <-10.68> now;
	turn dish1 to z-axis <-37.13> now;
	turn dish2 to x-axis <31.12> now;
	turn dish2 to y-axis <10.68> now;
	turn dish2 to z-axis <-37.13> now;
	turn dish3 to x-axis <31.12> now;
	turn dish3 to y-axis <-10.68> now;
	turn dish3 to z-axis <37.13> now;
	turn dish4 to x-axis <-31.12> now;
	turn dish4 to y-axis <10.68> now;
	turn dish4 to z-axis <37.13> now;
	sleep 1;
	turn dish1 to x-axis <-28.86> now;
	turn dish1 to y-axis <-8.84> now;
	turn dish1 to z-axis <-33.44> now;
	turn dish2 to x-axis <28.86> now;
	turn dish2 to y-axis <8.84> now;
	turn dish2 to z-axis <-33.44> now;
	turn dish3 to x-axis <28.86> now;
	turn dish3 to y-axis <-8.84> now;
	turn dish3 to z-axis <33.44> now;
	turn dish4 to x-axis <-28.86> now;
	turn dish4 to y-axis <8.84> now;
	turn dish4 to z-axis <33.44> now;
	sleep 1;
	turn dish1 to x-axis <-26.50> now;
	turn dish1 to y-axis <-7.20> now;
	turn dish1 to z-axis <-29.91> now;
	turn dish2 to x-axis <26.50> now;
	turn dish2 to y-axis <7.20> now;
	turn dish2 to z-axis <-29.91> now;
	turn dish3 to x-axis <26.50> now;
	turn dish3 to y-axis <-7.20> now;
	turn dish3 to z-axis <29.91> now;
	turn dish4 to x-axis <-26.50> now;
	turn dish4 to y-axis <7.20> now;
	turn dish4 to z-axis <29.91> now;
	sleep 1;
	turn dish1 to x-axis <-24.07> now;
	turn dish1 to y-axis <-5.75> now;
	turn dish1 to z-axis <-26.53> now;
	turn dish2 to x-axis <24.07> now;
	turn dish2 to y-axis <5.75> now;
	turn dish2 to z-axis <-26.53> now;
	turn dish3 to x-axis <24.07> now;
	turn dish3 to y-axis <-5.75> now;
	turn dish3 to z-axis <26.53> now;
	turn dish4 to x-axis <-24.07> now;
	turn dish4 to y-axis <5.75> now;
	turn dish4 to z-axis <26.53> now;
	sleep 1;
	turn dish1 to x-axis <-21.56> now;
	turn dish1 to y-axis <-4.49> now;
	turn dish1 to z-axis <-23.27> now;
	turn dish2 to x-axis <21.56> now;
	turn dish2 to y-axis <4.49> now;
	turn dish2 to z-axis <-23.27> now;
	turn dish3 to x-axis <21.56> now;
	turn dish3 to y-axis <-4.49> now;
	turn dish3 to z-axis <23.27> now;
	turn dish4 to x-axis <-21.56> now;
	turn dish4 to y-axis <4.49> now;
	turn dish4 to z-axis <23.27> now;
	sleep 1;
	turn dish1 to x-axis <-18.98> now;
	turn dish1 to y-axis <-3.40> now;
	turn dish1 to z-axis <-20.12> now;
	turn dish2 to x-axis <18.98> now;
	turn dish2 to y-axis <3.40> now;
	turn dish2 to z-axis <-20.12> now;
	turn dish3 to x-axis <18.98> now;
	turn dish3 to y-axis <-3.40> now;
	turn dish3 to z-axis <20.12> now;
	turn dish4 to x-axis <-18.98> now;
	turn dish4 to y-axis <3.40> now;
	turn dish4 to z-axis <20.12> now;
	sleep 1;
	turn dish1 to x-axis <-16.36> now;
	turn dish1 to y-axis <-2.47> now;
	turn dish1 to z-axis <-17.07> now;
	turn dish2 to x-axis <16.36> now;
	turn dish2 to y-axis <2.47> now;
	turn dish2 to z-axis <-17.07> now;
	turn dish3 to x-axis <16.36> now;
	turn dish3 to y-axis <-2.47> now;
	turn dish3 to z-axis <17.07> now;
	turn dish4 to x-axis <-16.36> now;
	turn dish4 to y-axis <2.47> now;
	turn dish4 to z-axis <17.07> now;
	sleep 1;
	turn dish1 to x-axis <-13.70> now;
	turn dish1 to y-axis <-1.70> now;
	turn dish1 to z-axis <-14.11> now;
	turn dish2 to x-axis <13.70> now;
	turn dish2 to y-axis <1.70> now;
	turn dish2 to z-axis <-14.11> now;
	turn dish3 to x-axis <13.70> now;
	turn dish3 to y-axis <-1.70> now;
	turn dish3 to z-axis <14.11> now;
	turn dish4 to x-axis <-13.70> now;
	turn dish4 to y-axis <1.70> now;
	turn dish4 to z-axis <14.11> now;
	sleep 1;
	turn dish1 to x-axis <-11.00> now;
	turn dish1 to y-axis <-1.08> now;
	turn dish1 to z-axis <-11.21> now;
	turn dish2 to x-axis <11.00> now;
	turn dish2 to y-axis <1.08> now;
	turn dish2 to z-axis <-11.21> now;
	turn dish3 to x-axis <11.00> now;
	turn dish3 to y-axis <-1.08> now;
	turn dish3 to z-axis <11.21> now;
	turn dish4 to x-axis <-11.00> now;
	turn dish4 to y-axis <1.08> now;
	turn dish4 to z-axis <11.21> now;
	sleep 1;
	turn dish1 to x-axis <-8.27> now;
	turn dish1 to y-axis <-0.61> now;
	turn dish1 to z-axis <-8.36> now;
	turn dish2 to x-axis <8.27> now;
	turn dish2 to y-axis <0.61> now;
	turn dish2 to z-axis <-8.36> now;
	turn dish3 to x-axis <8.27> now;
	turn dish3 to y-axis <-0.61> now;
	turn dish3 to z-axis <8.36> now;
	turn dish4 to x-axis <-8.27> now;
	turn dish4 to y-axis <0.61> now;
	turn dish4 to z-axis <8.36> now;
	sleep 1;
	turn dish1 to x-axis <-5.53> now;
	turn dish1 to y-axis <-0.27> now;
	turn dish1 to z-axis <-5.55> now;
	turn dish2 to x-axis <5.53> now;
	turn dish2 to y-axis <0.27> now;
	turn dish2 to z-axis <-5.55> now;
	turn dish3 to x-axis <5.53> now;
	turn dish3 to y-axis <-0.27> now;
	turn dish3 to z-axis <5.55> now;
	turn dish4 to x-axis <-5.53> now;
	turn dish4 to y-axis <0.27> now;
	turn dish4 to z-axis <5.55> now;
	sleep 1;
	turn dish1 to x-axis <-2.77> now;
	turn dish1 to y-axis <-0.07> now;
	turn dish1 to z-axis <-2.77> now;
	turn dish2 to x-axis <2.77> now;
	turn dish2 to y-axis <0.07> now;
	turn dish2 to z-axis <-2.77> now;
	turn dish3 to x-axis <2.77> now;
	turn dish3 to y-axis <-0.07> now;
	turn dish3 to z-axis <2.77> now;
	turn dish4 to x-axis <-2.77> now;
	turn dish4 to y-axis <0.07> now;
	turn dish4 to z-axis <2.77> now;
	sleep 1;
	turn dish1 to x-axis <-0.00> now;
	turn dish1 to y-axis <-0.00> now;
	turn dish1 to z-axis <-0.00> now;
	turn dish2 to x-axis <0.00> now;
	turn dish2 to y-axis <0.00> now;
	turn dish2 to z-axis <-0.00> now;
	turn dish3 to x-axis <0.00> now;
	turn dish3 to y-axis <-0.00> now;
	turn dish3 to z-axis <-0.00> now;
	turn dish4 to x-axis <0.00> now;
	turn dish4 to y-axis <0.00> now;
	turn dish4 to z-axis <0.00> now;
	sleep 1;
	hide emit;
	set ARMORED to 1;
	set YARD_OPEN to 1;
}

RequestState(requestedstate, currentstate)
{
	if( statechg_StateChanging )
	{
		statechg_DesiredState = requestedstate;
		return (0);
	}
	statechg_StateChanging = TRUE;
	currentstate = statechg_DesiredState;
	statechg_DesiredState = requestedstate;
	while( statechg_DesiredState != currentstate )
	{
		if( statechg_DesiredState )
		{
			call-script Stop();
			currentstate = 1;
		}
		else
		{
			call-script Go();
			currentstate = 0;
		}
	}
	statechg_StateChanging = FALSE;
}

Create()
{
	statechg_DesiredState = TRUE;
	statechg_StateChanging = FALSE;
	set ACTIVATION to 0;
	start-script SmokeUnit();
	Static_Var_1 = 0;
}

Activate()
{
	if( Static_Var_1 )
	{
		set ACTIVATION to 0;
		return (0);
	}
	start-script RequestState(0);
}

Deactivate()
{
	start-script RequestState(1);
}

HitByWeapon(anglex, anglez)
{
	if( get ACTIVATION )
	{
		Static_Var_1 = 1;
	}
	if( Static_Var_1 )
	{
		signal 2;
		set-signal-mask 2;
		set ACTIVATION to 0;
		sleep 8000;
		Static_Var_1 = 0;
		set ACTIVATION to 100;
	}
}

SweetSpot(piecenum)
{
	piecenum = base;
}

Killed(severity, corpsetype)
{
	if( severity <= 25 )
	{
		corpsetype = 1 ;
		explode base type BITMAPONLY | NOHEATCLOUD;
		explode dish4 type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode dish1 type BITMAPONLY | NOHEATCLOUD;
		explode dish2 type BITMAPONLY | NOHEATCLOUD;
		explode dish3 type BITMAPONLY | NOHEATCLOUD;
		return(corpsetype);
	}
	if( severity <= 50 )
	{
		corpsetype = 2 ;
		explode base type BITMAPONLY | NOHEATCLOUD;
		explode dish4 type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode dish1 type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode dish2 type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode dish3 type FALL | NOHEATCLOUD;
		return(corpsetype);
	}
	if( severity <= 99 )
	{
		corpsetype = 3 ;
		explode base type BITMAPONLY | NOHEATCLOUD;
		explode dish4 type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode dish1 type FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode dish2 type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode dish3 type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		return(corpsetype);
	}
	corpsetype = 3 ;
		explode base type BITMAPONLY | NOHEATCLOUD;
		explode dish4 type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode dish1 type EXPLODE_ON_HIT | FIRE | SMOKE | FALL | NOHEATCLOUD;
		explode dish2 type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
		explode dish3 type EXPLODE_ON_HIT | FIRE | FALL | NOHEATCLOUD;
	return corpsetype;
}
